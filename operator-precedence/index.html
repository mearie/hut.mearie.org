<!doctype html><html lang=ko><head><meta charset=utf-8><title>연산자 우선순위 | 허튼소리</title><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><meta name=description content="연산자 우선순위(operator precedence)는 주어진 식에서 어느 연산이 먼저 계산되는 지를 나타낸다. 예를 들어서 일반적인 사칙 연산을 기준으로 다음이 성립한다. $$3 + 4 \times 5 \times 6 = 3 + ((4 \times 5) \times 6) = 3 + (20 \times 6) = 3 + 120 = 123$$ 이 식이 성립하는 이유는 우리가 덧셈($+$)에 앞서 곱셈($\times$)을 먼저 계산하고, 덧셈과 곱셈 모두 연달아 나올 경우 왼쪽부터 계산한다고 약속했기 때문이다. 이는 곱의 합이 합의 곱보다 더 많이 나타나므로 이리 하면 괄호를 줄일 수 있다는 경험칙에 따른 것이며 그 이상 그 이하도 아니다."><meta name=generator content="Hugo 0.80.0"><link rel="shortcut icon" href=/favicon.ico type=image/vnd.microsoft.icon><style>@charset "UTF-8";@import "https://fonts.googleapis.com/css2?family=Noto+Serif&family=Noto+Serif+KR:wght@200;700&display=swap";*,*::before,*::after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role=list],ol[role=list]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){text-decoration-skip-ink:auto}img,picture{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media(prefers-reduced-motion:reduce){html:focus-within{scroll-behavior:auto}*,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}html{font-family:noto serif kr,serif;font-weight:200;font-size:18px;--main-color: #758;--light-color: #97a}:lang(en),[lang$=-fonipa]{font-family:noto serif,serif}:lang(en) pre:lang(en),:lang(en) [lang$=-fonipa],:lang(en) code:lang(en),:lang(en) [lang$=-fonipa],[lang$=-fonipa] pre:lang(en),[lang$=-fonipa] [lang$=-fonipa],[lang$=-fonipa] code:lang(en),[lang$=-fonipa] [lang$=-fonipa]{font-family:monospace}body{width:50rem;margin:0 auto;padding:1rem 0 0;line-height:1.8}@media screen and (max-width:936px){body{width:auto;margin:0 1rem;overflow-x:hidden}}*{vertical-align:bottom}.katex,.katex *{vertical-align:baseline}sup{vertical-align:super;line-height:0}sub{vertical-align:sub;line-height:0}p{margin:1rem 0}h1{font-size:2rem;margin:1rem 0}h2{font-size:1.6rem;margin:2rem 0 1rem}h3{font-size:1.2rem;margin:1rem 0}h6{font-size:1rem;margin:0 1rem 0 0;float:left}h1>.link-to-here,h2>.link-to-here,h3>.link-to-here{display:none}h1:hover>.link-to-here,h1:focus>.link-to-here,h2:hover>.link-to-here,h2:focus>.link-to-here,h3:hover>.link-to-here,h3:focus>.link-to-here{display:inline;color:gray}ul,ol{padding:0 0 0 1rem}li{margin:1rem 0}::marker{font-size:.9rem;color:var(--main-color);font-weight:700}blockquote{border-left:.3rem solid #758;padding-left:.3rem;margin-left:-.6rem}table{font-size:.8rem;border-collapse:collapse;min-width:20rem;max-width:100%;display:block;overflow-x:auto;white-space:nowrap}.table-wrap table{display:table;white-space:normal}td,th{padding:.3rem .5rem;text-align:left;margin:0;vertical-align:top}th{white-space:nowrap}tr:first-child{border-top:2px solid #758}tr:last-child{border-bottom:2px solid #758}thead{position:sticky;top:0;background-color:#758;color:#fff;--main-color: #d4c5db;--light-color: white}tbody tr:nth-child(2n){background-color:#efeaf2}aside{background-color:#ebe5ef;margin:1rem .2rem 1.2rem 0;padding:1rem;border-radius:.2rem;border:1px solid #d4c5db;box-shadow:.2rem .2rem .2rem #758}aside>:first-child{margin-top:0}aside>:last-child{margin-bottom:0}strong,b{font-weight:700}em,i{font-style:italic}u{text-decoration:underline}s,del{text-decoration:line-through;color:var(--main-color)}code{color:var(--main-color)}pre{background-color:#ebe5ef!important;tab-size:4;padding:.5em;overflow-x:auto;font-family:monospace}.compact-pre pre{line-height:1}small{font-size:.8em;color:var(--main-color)}small.claim{font-size:1em;background-color:#758;color:#fff;--main-color: #d4c5db;--light-color: white;padding:0 0 0 .2em;margin:0 .4em 0 0;font-weight:700;position:relative}small.claim>span{display:none}small.claim:after,small.claim:before{content:"";position:absolute;left:100%;width:.4em;height:50%}small.claim:before{top:0;background:linear-gradient(to top right,#758 50%,transparent 51%)}small.claim:after{bottom:0;background:linear-gradient(to bottom right,#758 50%,transparent 51%)}a{color:inherit;text-decoration:none;box-shadow:inset 0 -.4ex 0 #d4c5db;transition:background-color .1s cubic-bezier(0.33,0.66,0.66,1)}a:hover{background-color:#d4c5db}a.keyword{box-shadow:inset 0 -.4ex 0 #b6d1c8}a.keyword:hover{background-color:#b6d1c8}a.dead{box-shadow:inset 0 -.4ex 0 #e0ab96;transition:box-shadow .1s cubic-bezier(0.33,0.66,0.66,1);cursor:not-allowed}a.dead:hover{background-color:transparent;box-shadow:inset 0 -.2ex 0 #e0ab96}header{color:#758}header hgroup>h2{font-size:1rem;margin-bottom:0}header hgroup>h1{margin-top:0}details.hn,details.tw{font-size:.9rem}details.changes{width:30rem;margin:-.5rem 0 -.5rem auto;font-size:.8rem}details.changes>summary{text-align:right;cursor:pointer}details.changes>summary::after{content:' (클릭하여 자세히 보기)'}details.changes[open]{border-top:1px solid #758;border-bottom:1px solid #758}details.changes[open]>summary{display:none}@media screen and (max-width:576px){details.changes{width:auto}}figcaption{font-size:.8rem;font-weight:700;margin:.5rem}figcaption>:first-child{margin-top:0}figcaption>:last-child{margin-bottom:0}pre+figcaption,div.highlight+figcaption{margin:-1rem 0 0;background-color:#758;color:#fff;--main-color: #d4c5db;--light-color: white;padding:.5rem}main{margin-top:-100px}main:before{display:block;content:'';margin-top:100px}nav>h2{font-size:1.2rem;margin:0 .5rem 0 0;clear:left;float:left}nav>ul.keywords{padding:0}nav>ul.keywords ul{display:inline;padding:0}nav>ul.keywords li{display:inline}nav>ul.keywords li a{margin:0 .5rem 0 0}nav>ul.keywords>li{font-size:1.2rem}nav>ul.keywords>li li{opacity:.6;font-size:1rem}footer{border-top:1px solid #758;padding-top:.3rem;margin:5rem 0 2rem;font-size:.8rem;color:#758}footer svg.logo{float:right;margin:-.3rem 0 0 2rem;height:2.7rem;fill:#758;vertical-align:middle}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script defer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous onload="document.querySelectorAll('code').forEach(e=>{let s=e.textContent,m=s.match(/^\s*\$(\$(.*)\$|.*)\$\s*$/),p;if(m)if(s=m[2]||m[1]){katex.render(s,p=document.createElement('span'),{displayMode:!!m[2],throwOnError:false});e.replaceWith(...p.childNodes)}})"></script></head><body><main role=main><article><header><hgroup><h2></h2><h1>연산자 우선순위</h1></hgroup><details class=changes><summary><strong><time>2021-04-06</time></strong> 작성</summary><p><strong><time>2021-04-06</time></strong>에 첫 작성.</p></details></header><p><a class=dead href=/not-found/#%2foperator-precedence%2f:operator>연산자</a> 우선순위(operator precedence)는 주어진 <a class=dead href=/not-found/#%2foperator-precedence%2f:expression>식</a>에서 어느 연산이 먼저 계산되는 지를 나타낸다.
예를 들어서 일반적인 <a class=dead href=/not-found/#%2foperator-precedence%2f:arithmetic-operations>사칙 연산</a>을 기준으로 다음이 성립한다.
<code>$$3 + 4 \times 5 \times 6 = 3 + ((4 \times 5) \times 6) = 3 + (20 \times 6) = 3 + 120 = 123$$</code>
이 식이 성립하는 이유는 우리가 덧셈(<code>$+$</code>)에 앞서 곱셈(<code>$\times$</code>)을 먼저 계산하고,
덧셈과 곱셈 모두 연달아 나올 경우 왼쪽부터 계산한다고 <strong>약속</strong>했기 때문이다.
이는 곱의 합이 합의 곱보다 더 많이 나타나므로 이리 하면 괄호를 줄일 수 있다는 경험칙에 따른 것이며 그 이상 그 이하도 아니다.
<code>$48 \div 2(9 + 3)$</code>과 같이, 이러한 약속이 없다면 굳이 해석을 하지 말고 모호하므로 잘못되었다고 판단하는 것이 옳다.</p><p>연산자 우선순위는 크게 연산자들 사이의 <a href=#order>순서</a>와,
같은 부류의 연산자들이 연달아 있을 때 어떻게 할지를 결정하는 <a href=#associativity>결합칙</a>으로 나눠 설명할 수 있다.
우습게도 ‘우선순위’라는 이름과는 달리 순서만을 다루진 않으며,
<a class=dead href=/not-found/#%2foperator-precedence%2f:parentheses>소괄호</a> <code>()</code>와 같은 것은 연산자로 취급하지 않거나 가장 먼저 평가되는 연산자로 취급한다는 데도 주의.</p><p><a class=dead href=/not-found/#%2foperator-precedence%2f:formal-language>형식 언어</a>에서 연산자 우선순위는 <a class=dead href=/not-found/#%2foperator-precedence%2f:operator-precedence-grammar>연산자 우선순위 문법</a>으로 표현할 수 있다.</p><h2 id=order>순서 <a class=link-to-here href=#order title="이 제목으로 링크하기">#</a></h2><p>연산자의 계산 <strong>순서</strong>는 <code>$a \star b \diamond c$</code>와 같이 연산자 둘이 연달아 나올 때 둘 중 어느 쪽이 더 ‘강한’지를 나타낸다.
둘 중 한 쪽이 더 강하면 그 연산자가 먼저 계산되고,
어느 쪽도 강하지 않으면 순서에 따르는 <a href=#associativity>결합칙</a>으로 넘어가게 된다.
이를테면 사칙 연산의 경우 다음 순서에서 먼저 나올수록 더 강하다.</p><ol><li><p>괄호가 있다면 맨 안쪽 괄호부터</p></li><li><p>마이너스 기호 (<code>$-42$</code> 등)</p></li><li><p>곱셈(<code>$\times$</code>)과 나눗셈(<code>$\div$</code>)</p></li><li><p>덧셈(<code>$+$</code>)과 뺄셈(<code>$-$</code>)</p></li></ol><p>이제 <code>$3 + 4 \times 5$</code> 같은 경우 곱셈(3)이 덧셈(4)보다 먼저 나오므로 우선 계산된다.
<code>$3 - 4 + 5$</code> 같은 경우 뺄셈(4)과 덧셈(4)은 같은 순서이므로 왼쪽에 나오는 뺄셈이 먼저 계산된다.
마이너스 기호와 뺄셈은 모양이 같은데,
기호 앞에 숫자나 괄호가 나오면 뺄셈, 다른 연산자가 나오면 마이너스로 구분할 수 있다.</p><details class=hn><summary>옛날 글</summary><blockquote lang=en><p>It is pretty common that arithmetic comparison operators are grouped to a single precedence level and that&rsquo;s not a problem. But in Python <code>is</code>, <code>is not</code>, <code>in</code> and <code>not in</code> are also in that level. In particular two operands of <code>in</code> and <code>not in</code> have different types unlike others. Mixing them are, either with or without chained operators, almost surely incorrect.</p><p>This kind of precedence issue can be solved by introducing non-associative pairs of operators (or precedence levels), something that&mdash;unfortunately&mdash;I don&rsquo;t see much in common programming languages. [&mldr;] In fact, there is already one non-associative pair in Python: <code>not</code> and virtually every operator except boolean operators. It is understandable: the inability to parse <code>3 + not 4</code> is marginal but you don&rsquo;t want <code>3 is not 4</code> to be parsed as <code>3 is (not 4)</code>. My point is that, if we already have such a pair why can&rsquo;t we have more?</p><address><a href="https://news.ycombinator.com/item?id=23051165">해커뉴스에 쓴 글</a></address></blockquote></details><p><small class=claim><span>[</span>주장<span>:]</span></small>
이 순서를 나타낼 때는 보통 위와 같이 먼저 계산되는 것부터 나중에 계산되는 것까지 순서대로 나열하는 경향이 있다.
이는 연산자 사이의 계산 순서가 <a class=dead href=/not-found/#%2foperator-precedence%2f:total-order>전순서</a>라는 걸 함의하는데,
<strong>이상적으로는 전순서가 아니라 <a class=dead href=/not-found/#%2foperator-precedence%2f:partial-order>부분순서</a>여야 한다.</strong>
즉 어떤 연산자들끼리는 순서가 없으므로 <code>$a \star b \diamond c$</code>와 같이 연달아 쓸 수 없고 무조건 괄호를 쳐서 <code>$(a \star b) \diamond c$</code>나 <code>$a \star (b \diamond c)$</code>로 써야 한다는 것이다.
여기에는 그만한 이유가 있다.</p><ul><li><p>연산자 종류가 많아질수록 연산자들 사이에 ‘자연스러운’ 순서를 찾기가 어려워진다.
이를테면 <a class=keyword href=/c-language/>C</a>에는 사칙 연산과 함께 <a class=dead href=/not-found/#%2foperator-precedence%2f:bitwise-operations>비트 연산</a>이 있는데,
둘을 연달아 쓰는 것은 무슨 <a class=dead href=/not-found/#%2foperator-precedence%2f:code-golf>코드 골프</a> 같은 걸 하지 않는 이상 드문 일이다.</p></li><li><p>설령 자연스러운 순서가 존재하더라도 읽을 때 오해할 여지가 있으면 순서를 두지 않는 게 바람직하다.
이를테면 논리합(<code>$\vee$</code>)과 논리곱(<code>$\wedge$</code>) 사이의 자연스러운 순서는 사칙 연산과 똑같다고 볼 수도 있으나,
사칙 연산과는 달리 둘 사이에는 서로 <a class=dead href=/not-found/#%2foperator-precedence%2f:distributivity>분배 법칙</a>이 성립하므로 어느 한 쪽이 우선순위를 가지면 이를 가려 버릴 소지가 있다.</p></li></ul><h2 id=associativity>결합칙 <a class=link-to-here href=#associativity title="이 제목으로 링크하기">#</a></h2><p>연산자의 <strong>결합칙</strong>은 같은 <a href=#order>순서</a>를 가지는 연산자들이 연속으로 나올 때,
연산자와 무관하게 어느 방향으로 계산해야 하는지를 나타낸다.
흔히 쓰이는 결합칙으로 다음이 있다.</p><ul><li><p>왼쪽부터 결합(left associative):
사칙 연산(<code>$3 + 4 - 5 = (3 + 4) - 5$</code>)이 대표적이다.</p></li><li><p>오른쪽부터 결합(right associative):
<a class=dead href=/not-found/#%2foperator-precedence%2f:exponentiation>거듭제곱</a>(<code>$3^{4^5} = 3^{\left(4^5\right)}$</code>)이 대표적이다.
거듭제곱의 경우 <code>$\left(3^4\right)^5 = 3^{4 \times 5}$</code>이므로 왼쪽부터 결합해서 얻을 수 있는 이득이 별로 없기 때문이다.</p></li><li><p>통째로 결합(chained associative) 또는 n진(n-ary) 연산:
<code>$a_0 \star \cdots \star a_{n-1}$</code>과 같은 식을 이항 연산 <code>$\star$</code>를 <code>$n-1$</code>회 계산하는 것으로 보지 않고,
피연산자를 <code>$n$</code>개 받는 연관된 함수 <code>$\star_n(a_0, \cdots, a_{n-1})$</code>로 해석하는 것이다.
대표적으로 순서 비교 연산(<code>$3 &lt; 4 \le 5$</code>)이 있는데,
여기에서 보듯 연산자가 달라도 통째로 결합이 가능할 수 있다.</p></li><li><p>비결합(non-associative):
연산자를 아예 연달아 쓸 수 없는 경우로,
<a class=dead href=/not-found/#%2foperator-precedence%2f:inner-product>내적</a>(<code>$\mathbf{a} \cdot \mathbf{b} \cdot \mathbf{c}$</code>)과 같이 입력(이 경우 벡터)과 출력(이 경우 스칼라)이 다른 종류일 경우 흔히 볼 수 있다.</p></li></ul><h2 id=see-also>같이 보기 <a class=link-to-here href=#see-also title="이 제목으로 링크하기">#</a></h2><ul><li><a href=https://foonathan.net/2017/07/operator-precedence/><em>Operator precedence is broken</em></a></li></ul></article></main><footer><svg class="logo" version="1.0" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 182 186"><path d="M0 0h54v102H19v52h35v32H0m34-70h20v24H34"/><path d="M64 0h54v1e2a22 22 0 000 56v30H64m54-72a12 12 0 000 28v-28"/><path d="M128 0h54v102h-33v12h33v8h-33v32h33v32h-54m35-52h19v8h-19"/></svg><strong><a href=/>허튼소리</a></strong>는 <a href=https://mearie.org/>메아리</a>의 일부입니다.
&copy; 2021 강 성훈.
<a href=/about/#license>저작권을 조금 가집니다.</a><br>이 페이지에 대한 의견은 <a href="mailto:?to=hut%2boperator-precedence@.org&subject=%5boperator-precedence%5d%20%ec%9d%98%ea%b2%ac&body=%ec%a0%80%eb%8a%94%20%27%ec%97%b0%ec%82%b0%ec%9e%90%20%ec%9a%b0%ec%84%a0%ec%88%9c%ec%9c%84%27%20%ea%b8%80%ec%9d%84%20%ec%b2%98%ec%9d%8c%eb%b6%80%ed%84%b0%20%eb%81%9d%ea%b9%8c%ec%a7%80%20%ec%9e%98%20%ec%9d%bd%ec%97%88%ea%b3%a0%20%eb%a1%9c%eb%b4%87%ec%9d%b4%20%ec%95%84%eb%8b%88%eb%a9%b0%20%ec%98%ac%eb%b0%94%eb%a5%b8%20%eb%a9%94%ec%95%84%eb%a6%ac%20%eb%8f%84%eb%a9%94%ec%9d%b8%28%ed%97%88%ed%8a%bc%ec%86%8c%eb%a6%ac%20%eb%8f%84%eb%a9%94%ec%9d%b8%20%eb%a7%90%ea%b3%a0%29%ec%9d%84%20%ec%b1%84%ec%9a%b0%ea%b3%a0%20%ec%9d%b4%20%ec%a4%84%ec%9d%84%20%ec%a7%80%ec%9a%b8%eb%a7%8c%ed%95%9c%20%ec%b5%9c%ec%86%8c%ed%95%9c%ec%9d%98%20%ec%a7%80%eb%8a%a5%ec%9d%b4%20%ec%9e%88%ec%9d%8c%ec%9d%84%20%ed%99%95%ec%9d%b8%ed%95%a9%eb%8b%88%eb%8b%a4."><code>hut+operator-precedence@</code></a>에 보내 주세요.</footer><script type=text/javascript>var _paq=window._paq=window._paq||[];(function(){var u="https://track.mearie.org/";_paq.push(['trackPageView'],['enableLinkTracking'],['setTrackerUrl',u+'matomo.php'],['setSiteId','4']);var d=document,g=d.createElement('script'),s=d.getElementsByTagName('script')[0];g.type='text/javascript';g.async=true;g.src=u+'matomo.js';s.parentNode.insertBefore(g,s)})()</script><noscript><p><img src="https://track.mearie.org/matomo.php?idsite=4&rec=1" style=border:0 alt></p></noscript></body></html>